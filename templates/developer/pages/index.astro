---
import BaseLayout from '../layouts/BaseLayout.astro';
import ProjectShowcase from '../components/ProjectShowcase.astro';
import SkillsMatrix from '../components/SkillsMatrix.astro';
import BlogList from '../components/BlogList.astro';
import ContactForm from '../components/ContactForm.astro';
import { Picture } from 'astro:assets';

// This would typically come from your config or CMS
const portfolioData = {
  personalInfo: {
    name: 'John Developer',
    title: 'Full Stack Developer & UI/UX Designer',
    bio: 'Passionate about creating beautiful, functional web experiences that solve real-world problems. Specialized in React, Node.js, and modern web technologies.',
    avatar: '/images/avatar.jpg',
    location: 'San Francisco, CA',
    email: 'john@example.com',
    phone: '+1 (555) 123-4567',
    linkedin: 'https://linkedin.com/in/johndeveloper',
    github: 'https://github.com/johndeveloper',
    twitter: 'https://twitter.com/johndeveloper',
    website: 'https://johndeveloper.dev'
  },
  
  skills: [
    { name: 'JavaScript', level: 'Expert', category: 'Frontend', yearsOfExperience: 6 },
    { name: 'TypeScript', level: 'Advanced', category: 'Frontend', yearsOfExperience: 4 },
    { name: 'React', level: 'Expert', category: 'Frontend', yearsOfExperience: 5 },
    { name: 'Vue.js', level: 'Advanced', category: 'Frontend', yearsOfExperience: 3 },
    { name: 'Node.js', level: 'Advanced', category: 'Backend', yearsOfExperience: 5 },
    { name: 'Python', level: 'Intermediate', category: 'Backend', yearsOfExperience: 2 },
    { name: 'PostgreSQL', level: 'Advanced', category: 'Database', yearsOfExperience: 4 },
    { name: 'MongoDB', level: 'Advanced', category: 'Database', yearsOfExperience: 3 },
    { name: 'AWS', level: 'Advanced', category: 'DevOps', yearsOfExperience: 3 },
    { name: 'Docker', level: 'Intermediate', category: 'DevOps', yearsOfExperience: 2 },
    { name: 'Figma', level: 'Advanced', category: 'Design', yearsOfExperience: 4 }
  ],

  projects: [
    {
      id: 'ecommerce-platform',
      title: 'E-commerce Platform',
      description: 'A modern e-commerce solution built with React and Node.js, featuring real-time inventory management, secure payments, and analytics dashboard.',
      technologies: ['React', 'Node.js', 'PostgreSQL', 'Stripe', 'AWS'],
      features: ['Real-time inventory', 'Secure payments', 'Analytics dashboard', 'Mobile responsive'],
      status: 'Completed',
      category: 'Web Application',
      startDate: '2023-01-01',
      endDate: '2023-06-30',
      demoUrl: 'https://demo-ecommerce.example.com',
      githubUrl: 'https://github.com/johndeveloper/ecommerce-platform',
      imageUrl: '/images/projects/ecommerce.jpg'
    },
    {
      id: 'task-management-app',
      title: 'Collaborative Task Manager',
      description: 'A team productivity app with real-time collaboration, kanban boards, and integrated time tracking.',
      technologies: ['Vue.js', 'Express', 'Socket.io', 'MongoDB'],
      features: ['Real-time collaboration', 'Kanban boards', 'Time tracking', 'Team analytics'],
      status: 'In Progress',
      category: 'SaaS Application',
      startDate: '2023-07-01',
      demoUrl: 'https://demo-taskmanager.example.com',
      githubUrl: 'https://github.com/johndeveloper/task-manager',
      imageUrl: '/images/projects/taskmanager.jpg'
    },
    {
      id: 'design-system',
      title: 'Design System & Component Library',
      description: 'A comprehensive design system with reusable components, documentation, and design tokens.',
      technologies: ['React', 'Storybook', 'Styled Components', 'TypeScript'],
      features: ['Reusable components', 'Design tokens', 'Documentation', 'Accessibility compliant'],
      status: 'Featured',
      category: 'Design System',
      startDate: '2022-09-01',
      endDate: '2023-03-31',
      demoUrl: 'https://designsystem.example.com',
      githubUrl: 'https://github.com/johndeveloper/design-system',
      imageUrl: '/images/projects/designsystem.jpg'
    }
  ],

  blogPosts: [
    {
      id: 'modern-react-patterns',
      title: 'Modern React Patterns for 2024',
      excerpt: 'Exploring the latest React patterns including Server Components, Concurrent Features, and advanced hooks usage.',
      publishedDate: '2024-01-15',
      tags: ['React', 'JavaScript', 'Web Development'],
      category: 'Tutorial',
      readingTime: 8,
      featured: true,
      slug: 'modern-react-patterns-2024',
      author: { name: 'John Developer' },
      coverImage: '/images/blog/react-patterns.jpg'
    },
    {
      id: 'typescript-best-practices',
      title: 'TypeScript Best Practices for Large Applications',
      excerpt: 'A comprehensive guide to structuring and maintaining TypeScript codebases at scale.',
      publishedDate: '2023-12-20',
      tags: ['TypeScript', 'Architecture', 'Best Practices'],
      category: 'Guide',
      readingTime: 12,
      featured: false,
      slug: 'typescript-best-practices',
      author: { name: 'John Developer' },
      coverImage: '/images/blog/typescript.jpg'
    },
    {
      id: 'web-performance-optimization',
      title: 'Web Performance Optimization: A Developer\'s Guide',
      excerpt: 'Learn essential techniques for optimizing web performance, from bundle splitting to image optimization.',
      publishedDate: '2023-11-30',
      tags: ['Performance', 'Optimization', 'Web Development'],
      category: 'Guide',
      readingTime: 10,
      featured: true,
      slug: 'web-performance-optimization',
      author: { name: 'John Developer' },
      coverImage: '/images/blog/performance.jpg'
    }
  ]
};

const structuredData = {
  "@context": "https://schema.org",
  "@type": "Person",
  "name": portfolioData.personalInfo.name,
  "jobTitle": portfolioData.personalInfo.title,
  "url": portfolioData.personalInfo.website,
  "sameAs": [
    portfolioData.personalInfo.linkedin,
    portfolioData.personalInfo.github,
    portfolioData.personalInfo.twitter
  ],
  "knowsAbout": portfolioData.skills.map(skill => skill.name)
};
---

<BaseLayout
  title="John Developer - Full Stack Developer & UI/UX Designer"
  description="Passionate full stack developer creating beautiful, functional web experiences. Specialized in React, Node.js, and modern web technologies."
  keywords={['Full Stack Developer', 'React', 'Node.js', 'UI/UX Design', 'Web Development']}
  author={portfolioData.personalInfo.name}
  structuredData={structuredData}
>
  <!-- Hero Section -->
  <section class="relative min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 overflow-hidden">
    <!-- Background Pattern -->
    <div class="absolute inset-0 opacity-10 dark:opacity-5">
      <svg class="w-full h-full" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse">
            <path d="M 10 0 L 0 0 0 10" fill="none" stroke="currentColor" stroke-width="0.5"/>
          </pattern>
        </defs>
        <rect width="100%" height="100%" fill="url(#grid)" />
      </svg>
    </div>

    <!-- Hero Content -->
    <div class="container mx-auto px-4 relative z-10">
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
        <!-- Text Content -->
        <div class="text-center lg:text-left">
          <div class="mb-6">
            <span class="inline-block px-4 py-2 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300 rounded-full text-sm font-medium mb-4">
              ðŸ‘‹ Available for new opportunities
            </span>
          </div>
          
          <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 dark:text-white mb-6">
            Hi, I'm <span class="text-blue-600 dark:text-blue-400">{portfolioData.personalInfo.name.split(' ')[0]}</span>
          </h1>
          
          <h2 class="text-xl md:text-2xl text-gray-600 dark:text-gray-300 mb-6 font-medium">
            {portfolioData.personalInfo.title}
          </h2>
          
          <p class="text-lg text-gray-600 dark:text-gray-400 mb-8 leading-relaxed">
            {portfolioData.personalInfo.bio}
          </p>
          
          <!-- CTA Buttons -->
          <div class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start">
            <a
              href="#projects"
              class="px-8 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl"
            >
              View My Work
            </a>
            <a
              href="#contact"
              class="px-8 py-3 border-2 border-blue-600 text-blue-600 dark:text-blue-400 hover:bg-blue-600 hover:text-white dark:border-blue-400 dark:hover:bg-blue-400 dark:hover:text-gray-900 font-semibold rounded-lg transition-all duration-300"
            >
              Get In Touch
            </a>
          </div>
          
          <!-- Social Links -->
          <div class="flex justify-center lg:justify-start space-x-6 mt-8">
            <a 
              href={portfolioData.personalInfo.github}
              target="_blank"
              rel="noopener noreferrer"
              class="text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors"
              aria-label="GitHub Profile"
            >
              <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/>
              </svg>
            </a>
            <a 
              href={portfolioData.personalInfo.linkedin}
              target="_blank"
              rel="noopener noreferrer"
              class="text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors"
              aria-label="LinkedIn Profile"
            >
              <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
              </svg>
            </a>
            <a 
              href={portfolioData.personalInfo.twitter}
              target="_blank"
              rel="noopener noreferrer"
              class="text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors"
              aria-label="Twitter Profile"
            >
              <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
              </svg>
            </a>
          </div>
        </div>
        
        <!-- Profile Image -->
        <div class="flex justify-center lg:justify-end">
          <div class="relative">
            <div class="w-80 h-80 lg:w-96 lg:h-96 rounded-full overflow-hidden shadow-2xl border-8 border-white dark:border-gray-700 bg-gradient-to-br from-blue-400 to-purple-500">
              <Picture
                src={portfolioData.personalInfo.avatar}
                alt={`${portfolioData.personalInfo.name} - Profile Photo`}
                width={384}
                height={384}
                format={['webp', 'jpg']}
                loading="eager"
                class="w-full h-full object-cover"
              />
            </div>
            
            <!-- Floating Elements -->
            <div class="absolute -top-4 -right-4 w-20 h-20 bg-yellow-400 rounded-full flex items-center justify-center text-2xl animate-bounce">
              âš¡
            </div>
            <div class="absolute -bottom-4 -left-4 w-16 h-16 bg-green-400 rounded-full flex items-center justify-center text-xl animate-pulse">
              ðŸš€
            </div>
            <div class="absolute top-1/4 -left-8 w-12 h-12 bg-pink-400 rounded-full flex items-center justify-center animate-bounce delay-300">
              ðŸ’¡
            </div>
          </div>
        </div>
      </div>
      
      <!-- Scroll Indicator -->
      <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce">
        <svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
        </svg>
      </div>
    </div>
  </section>

  <!-- About Section -->
  <section class="py-16 bg-white dark:bg-gray-900" id="about">
    <div class="container mx-auto px-4">
      <div class="max-w-4xl mx-auto text-center">
        <h2 class="text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-8">
          About Me
        </h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12">
          <div class="text-center">
            <div class="w-16 h-16 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mx-auto mb-4">
              <svg class="w-8 h-8 text-blue-600 dark:text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
            </div>
            <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">
              Problem Solver
            </h3>
            <p class="text-gray-600 dark:text-gray-400">
              I love tackling complex challenges and finding elegant solutions
            </p>
          </div>
          <div class="text-center">
            <div class="w-16 h-16 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mx-auto mb-4">
              <svg class="w-8 h-8 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
              </svg>
            </div>
            <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">
              Fast Learner
            </h3>
            <p class="text-gray-600 dark:text-gray-400">
              Always staying up-to-date with the latest technologies and trends
            </p>
          </div>
          <div class="text-center">
            <div class="w-16 h-16 bg-purple-100 dark:bg-purple-900 rounded-full flex items-center justify-center mx-auto mb-4">
              <svg class="w-8 h-8 text-purple-600 dark:text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
              </svg>
            </div>
            <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">
              Team Player
            </h3>
            <p class="text-gray-600 dark:text-gray-400">
              Collaborative approach with strong communication skills
            </p>
          </div>
        </div>
        <a
          href="/about"
          class="inline-flex items-center px-6 py-3 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-900 dark:text-white rounded-lg transition-colors"
        >
          Learn More About Me
          <svg class="ml-2 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
          </svg>
        </a>
      </div>
    </div>
  </section>

  <!-- Skills Section -->
  <SkillsMatrix 
    skills={portfolioData.skills}
    displayType="bars"
    groupByCategory={true}
    showProficiencyLevel={true}
    showYearsOfExperience={true}
  />

  <!-- Projects Section -->
  <ProjectShowcase 
    projects={portfolioData.projects}
    showFilters={true}
    itemsPerPage={6}
    layout="grid"
    showFeaturedFirst={true}
  />

  <!-- Blog Section -->
  <BlogList 
    posts={portfolioData.blogPosts}
    showFeaturedFirst={true}
    itemsPerPage={3}
    showCategories={true}
    showTags={true}
    layout="grid"
  />

  <!-- Contact Section -->
  <ContactForm 
    showMap={false}
    socialLinks={{
      email: portfolioData.personalInfo.email,
      phone: portfolioData.personalInfo.phone,
      linkedin: portfolioData.personalInfo.linkedin
    }}
    businessHours={{
      timezone: 'PST (UTC-8)',
      schedule: [
        { day: 'Monday - Friday', hours: '9:00 AM - 6:00 PM' },
        { day: 'Saturday', hours: '10:00 AM - 2:00 PM' },
        { day: 'Sunday', hours: 'Closed' }
      ]
    }}
  />

  <!-- Performance optimizations -->
  <link rel="preload" as="image" href="/images/avatar.jpg" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
</BaseLayout>

<style>
  /* Hero animations */
  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
  }
  
  .animate-float {
    animation: float 3s ease-in-out infinite;
  }
  
  /* Custom gradient text */
  .gradient-text {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  /* Smooth scroll offset for fixed header */
  html {
    scroll-padding-top: 80px;
  }
  
  /* Custom animations */
  .animate-bounce-slow {
    animation: bounce 2s infinite;
  }
  
  @keyframes bounce {
    0%, 100% {
      transform: translateY(-25%);
      animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
    }
    50% {
      transform: translateY(0);
      animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
    }
  }
  
  /* Accessibility improvements */
  @media (prefers-reduced-motion: reduce) {
    .animate-bounce,
    .animate-pulse,
    .animate-bounce-slow,
    .animate-float {
      animation: none;
    }
  }
</style>